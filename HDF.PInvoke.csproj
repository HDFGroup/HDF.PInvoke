<?xml version="1.0" encoding="utf-8"?>
<Project Sdk="Microsoft.NET.Sdk">

  <Import Project="Revision.targets" />

  <PropertyGroup>
    <PackageId>HDF.PInvoke</PackageId>
    <title>HDF.PInvoke</title>
    <summary>.NET interop with native HDF5 libraries</summary>
    <Product>HDF.PInvoke</Product>    
    <Company>The HDF Group</Company>
    <authors>The HDF Group</authors>
    <owners>The HDF Group</owners>
    <Copyright>Copyright Â© 2016</Copyright>
    <description>
      This package contains PInvoke declarations for the (unmanaged) HDF5 1.10.x C-API. 
      For documenation, see the "HDF5: API Specification Reference Manual" at http://www.hdfgroup.org/HDF5/doc/RM/RM_H5Front.html.
    </description>
    <PackageLicenseUrl>http://www.hdfgroup.org/ftp/HDF5/current/src/unpacked/COPYING</PackageLicenseUrl>
    <requireLicenseAcceptance>false</requireLicenseAcceptance>
    <PackageTags>HDF5</PackageTags>
    <PackageProjectUrl>https://github.com/HDFGroup/HDF.PInvoke</PackageProjectUrl>
    <AssemblyVersion>$(PackageVersion)</AssemblyVersion>
    <FileVersion>$(PackageVersion)</FileVersion>  
  </PropertyGroup>

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
    <ProjectGuid>{4450F800-93E2-4D4A-B224-966E2338CDED}</ProjectGuid>    
    <EnableDefaultCompileItems>False</EnableDefaultCompileItems>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <RootNamespace>HDF.PInvoke</RootNamespace>
    <AssemblyName>HDF.PInvoke</AssemblyName>
    <SignAssembly>true</SignAssembly>
    <AssemblyOriginatorKeyFile>HDF.PInvoke.snk</AssemblyOriginatorKeyFile>
    <PublicSign Condition=" '$(OS)' != 'Windows_NT' ">true</PublicSign>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <NoWarn>CS1591</NoWarn>
    <IncludeSymbols>true</IncludeSymbols>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)' == 'Debug'">
    <DefineConstants>HDF5_VER1_10;NET_STANDARD;TRACE;DEBUG</DefineConstants>
    <DebugType>full</DebugType>
    <DebugSymbols>true</DebugSymbols>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Release'">
    <DefineConstants>HDF5_VER1_10;NET_STANDARD</DefineConstants>
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="HDF5\Constants.cs" />
    <Compile Include="HDF5\H5ACpublic.cs" />
    <Compile Include="HDF5\H5Eglobals.cs" />
    <Compile Include="HDF5\H5Pglobals.cs" />
    <Compile Include="HDF5\H5Rpublic.cs" />
    <Compile Include="HDF5\H5PLpublic.cs" />
    <Compile Include="HDF5\H5Dpublic.cs" />
    <Compile Include="HDF5\H5Apublic.cs" />
    <Compile Include="HDF5\H5Cpublic.cs" />
    <Compile Include="HDF5\H5DLLImporter.cs" />
    <Compile Include="HDF5\H5DOpublic.cs" />
    <Compile Include="HDF5\H5MMpublic.cs" />
    <Compile Include="HDF5\H5Fpublic.cs" />
    <Compile Include="HDF5\H5Gpublic.cs" />
    <Compile Include="HDF5\H5Ipublic.cs" />
    <Compile Include="HDF5\H5Opublic.cs" />
    <Compile Include="HDF5\H5Ppublic.cs" />
    <Compile Include="HDF5\H5public.cs" />
    <Compile Include="HDF5\H5Epublic.cs" />
    <Compile Include="HDF5\H5Lpublic.cs" />
    <Compile Include="HDF5\H5FDpublic.cs" />
    <Compile Include="HDF5\H5Tglobals.cs" />
    <Compile Include="HDF5\H5Zpublic.cs" />
    <Compile Include="HDF5\H5Spublic.cs" />
    <Compile Include="HDF5\H5Tpublic.cs" />
    <Compile Include="HDF5\NativeDependencies.cs" />
    <Compile Include="HDF5\Typology.cs" />
  </ItemGroup>

  <!-- Native libraries for .NET standard targets: -->  
  <ItemGroup Condition="'$(Configuration)' == 'Debug' Or '$(Configuration)' == 'Release'">  
    <Content Include="native/HDF5_1.10/bin32/hdf5.dll" PackagePath="runtimes/win-x86/native">
      <Link>bin32/hdf5.dll</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>  
    <Content Include="native/HDF5_1.10/bin32/hdf5_hl.dll" PackagePath="runtimes/win-x86/native">
      <Link>bin32/hdf5_hl.dll</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>  
    <Content Include="native/HDF5_1.10/bin32/szip.dll" PackagePath="runtimes/win-x86/native">
      <Link>bin32/szip.dll</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>         
    <Content Include="native/HDF5_1.10/bin32/zlib.dll" PackagePath="runtimes/win-x86/native">
      <Link>bin32/zlib.dll</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>        
    <Content Include="native/HDF5_1.10/bin64/hdf5.dll" PackagePath="runtimes/win-x64/native">
      <Link>bin64/hdf5.dll</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>  
    <Content Include="native/HDF5_1.10/bin64/hdf5_hl.dll" PackagePath="runtimes/win-x64/native">
      <Link>bin64/hdf5_hl.dll</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>  
    <Content Include="native/HDF5_1.10/bin64/szip.dll" PackagePath="runtimes/win-x64/native">
      <Link>bin64/szip.dll</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>         
    <Content Include="native/HDF5_1.10/bin64/zlib.dll" PackagePath="runtimes/win-x64/native">
      <Link>bin64/zlib.dll</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>            
    <Content Include="native/HDF5_1.10/linux64/libhdf5.so" PackagePath="runtimes/linux-x64/native">
      <Link>libhdf5.so</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>        
    <Content Include="native/HDF5_1.10/linux64/libhdf5_hl.so" PackagePath="runtimes/linux-x64/native">
      <Link>libhdf5_hl.so</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>           
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="System.Configuration" Version="2.0.5" />
  </ItemGroup>

</Project>